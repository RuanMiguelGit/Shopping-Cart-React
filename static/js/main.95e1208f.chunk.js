(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{16:function(t,e,a){},17:function(t,e,a){t.exports=a.p+"static/media/shoppingCartIcon.c35c7dea.png"},23:function(t,e,a){},26:function(t,e,a){t.exports=a(41)},31:function(t,e,a){},41:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=(a(31),a(23),a(12)),u=a(1),s=a(3),d=a(4),l=a(7),p=a(6),h=a(5),m=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={amount:1,cart:t.props.location.cart},t.addup=t.addup.bind(Object(l.a)(t)),t.adddown=t.adddown.bind(Object(l.a)(t)),t}return Object(d.a)(a,[{key:"addup",value:function(t,e){var a=this.state.cart;a.quantity+=1,a.splice(e,1,a),this.setState({amount:a})}},{key:"adddown",value:function(){this.setState((function(t){return{amount:t.amount-1}}))}},{key:"render",value:function(){var t=this,e=this.props.location.cart,a=this.state.amount;return e.length<=0?r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"):r.a.createElement("div",null,r.a.createElement("div",null,e.map((function(e,n){return r.a.createElement("div",{key:n},r.a.createElement("img",{src:e.thumbnail,alt:e.title}),r.a.createElement("h3",{"data-testid":"shopping-cart-product-name"},e.title),r.a.createElement("button",{type:"button",onClick:t.addup(a)}),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},a),r.a.createElement("button",{type:"button",onClick:t.adddown(a)}))}))))}}]),a}(r.a.Component),b=a(11),f=a.n(b),v=a(14);function y(){return(y=Object(v.a)(f.a.mark((function t(){var e,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",t.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return e=t.sent,t.next=6,e.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){return E.apply(this,arguments)}function E(){return(E=Object(v.a)(f.a.mark((function t(e,a){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=a(18),O=(a(16),function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props,e=t.product,a=t.addProduct;return r.a.createElement("section",{className:"product-card"},r.a.createElement(i.b,{to:{pathname:"/products-details/".concat(e.id),state:{product:e}},"data-testid":"product-detail-link"},r.a.createElement("div",{"data-testid":"product"},r.a.createElement("h1",{className:"product-name"},e.title),r.a.createElement("img",{className:"product-picture",src:e.thumbnail,alt:"Product pic "}),r.a.createElement("p",{className:"product-price"},e.price," RS"))),r.a.createElement("button",{className:"ButtonBuy","data-testid":"product-add-to-cart",type:"button",onClick:function(){return a(e)}},"Adicionar ao carrinho"))}}]),a}(r.a.Component)),k=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.queryResult,n=e.search,c=e.addProduct;return!1===n?r.a.createElement("div",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."):0===a.length?r.a.createElement("div",null,"Nenhum produto foi encontrado"):r.a.createElement("div",null,a.map((function(e){return r.a.createElement(O,{key:e.id,product:e,addProduct:c,addup:t.addup,adddown:t.adddown})})))}}]),a}(r.a.Component);k.defaultProps={queryResult:[]};var C=k,S=a(17),w=a.n(S),q=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={query:"",cart:[]},t.handleChange=t.handleChange.bind(Object(l.a)(t)),t.addProduct=t.addProduct.bind(Object(l.a)(t)),t}return Object(d.a)(a,[{key:"handleChange",value:function(t){this.setState({query:t.target.value})}},{key:"addProduct",value:function(t){var e=this.state.cart;this.setState({cart:[].concat(Object(j.a)(e),[t])})}},{key:"render",value:function(){var t=this.state,e=t.query,a=t.cart,n=this.props,c=n.onSearch,o=n.search,u=n.handleQuery,s=n.queryResult;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"query-input"},r.a.createElement("input",{className:"InputS",id:"query-input","data-testid":"query-input",type:"text",value:e,onChange:this.handleChange}),r.a.createElement("button",{className:"ButtonS",type:"button","data-testid":"query-button",onClick:function(t){u(e),c(t)}},"Pesquisar")),r.a.createElement(i.b,{to:{pathname:"/shopping-cart/",cart:a},"data-testid":"shopping-cart-button"},r.a.createElement("img",{src:w.a,alt:"shopping-cart",className:"shopping-cart"})),r.a.createElement(C,{queryResult:s,search:o,addProduct:this.addProduct,addup:this.addup,adddown:this.adddown}))}}]),a}(r.a.Component),P=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var t=this.props,e=t.categories,a=t.onSelectedCategorie;return r.a.createElement("div",null,r.a.createElement("ul",null,e.map((function(t){return r.a.createElement("button",{key:t.id,type:"button",className:"ButtonC",onClick:function(t){a(t)},value:t,id:t.id,"data-testid":"category"},t.name)}))))}}]),a}(r.a.Component),N=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading"},"Carregando...")}}]),a}(n.Component),x=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).onSelectedCategorie=t.onSelectedCategorie.bind(Object(l.a)(t)),t.handleQuery=t.handleQuery.bind(Object(l.a)(t)),t.onSearch=t.onSearch.bind(Object(l.a)(t)),t.state={query:"",loading:!1,categoriesfull:[],selectedCategorie:"",queryResult:[],search:!1},t}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;(function(){return y.apply(this,arguments)})().then((function(e){t.setState({categoriesfull:e})}))}},{key:"handleQuery",value:function(t){this.setState({query:t})}},{key:"onSearch",value:function(){var t=Object(v.a)(f.a.mark((function t(){var e,a=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.state.selectedCategorie,this.setState({loading:!0},Object(v.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.state.query,t.next=3,g(e,n);case 3:r=t.sent,a.setState({queryResult:r.results,search:!0,loading:!1});case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onSelectedCategorie",value:function(t){var e=this;this.setState({selectedCategorie:t.target.id},(function(){return e.onSearch(t)}))}},{key:"render",value:function(){var t=this.state,e=t.loading,a=t.search,n=this.state,c=n.queryResult,o=n.categoriesfull;return e?r.a.createElement(N,null):r.a.createElement("div",null,r.a.createElement(q,{queryResult:c,search:a,handleQuery:this.handleQuery,onSearch:this.onSearch}),r.a.createElement(P,{onSearch:this.onSearch,categories:o,onSelectedCategorie:this.onSelectedCategorie}))}}]),a}(r.a.Component),B=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;return Object(s.a)(this,a),(t=e.call(this)).state={cart:[]},t.addProduct=t.addProduct.bind(Object(l.a)(t)),t}return Object(d.a)(a,[{key:"addProduct",value:function(t){var e=this.state.cart;this.setState({cart:[].concat(Object(j.a)(e),[t])})}},{key:"render",value:function(){var t=this,e=this.state.cart,a=this.props.location.state.product,n=a.title,c=a.price,o=a.thumbnail;return r.a.createElement("div",null,r.a.createElement(i.b,{to:{pathname:"/shopping-cart/",cart:e},"data-testid":"shopping-cart-button"},r.a.createElement("img",{src:w.a,alt:"shopping-cart",className:"shopping-cart"})),r.a.createElement("h1",{"data-testid":"product-detail-name",className:"product-name"},n),r.a.createElement("img",{src:o,alt:"Product Pic",className:"product-picture2"}),r.a.createElement("p",{className:"product-price"}," Pre\xe7o ",c," R$"),r.a.createElement("button",{className:"ButtonBuy2",type:"button","data-testid":"product-detail-add-to-cart",onClick:function(){return t.addProduct(a)}},"Adicionar ao carrinho"))}}]),a}(r.a.Component);var R=function(){return r.a.createElement(i.a,{basename:"/Shopping-Cart-React"},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/shopping-cart",component:m}),r.a.createElement(u.a,{exact:!0,path:"/",component:x}),r.a.createElement(u.a,{path:"/products-details/:id",render:function(t){return r.a.createElement(B,t)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.95e1208f.chunk.js.map